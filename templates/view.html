{% extends "base.html" %}
{% block title %}{{ post.title }}{% endblock %}

{% block content %}
  <article class="card" style="padding:12px;">
    <h1>{{ post.title }}</h1>
    <div class="meta">{{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</div>
    <hr>

    <!-- 画像表示 -->
    {% if post.image_filename %}
      <img src="{{ url_for('static', filename='uploads/' ~ post.image_filename) }}" style="max-width:100%; margin-bottom:12px;">
    {% else %}
      <div style="width:100%; height:300px; background:#ccc; margin-bottom:12px;"></div>
    {% endif %}

    <!-- 投稿内容 -->
    <div>{{ post.content | safe }}</div>
    <hr>

    <!-- 編集・削除・一覧リンク -->
    <div style="display:flex; gap:8px; margin-top:8px;">
      <a class="btn" href="{{ url_for('edit_post', post_id=post.id) }}">編集</a>
      <form method="post" action="{{ url_for('delete_post', post_id=post.id) }}" onsubmit="return confirm('本当に削除しますか？');" style="display:inline;">
        <button class="btn" style="background:#d32f2f;border:none">削除</button>
      </form>
      <a href="{{ url_for('index') }}" style="margin-left:auto">一覧へ戻る</a>
    </div>
  </article>
{% endblock %}
